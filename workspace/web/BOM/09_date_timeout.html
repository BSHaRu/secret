<!-- 09_date_timeout.html -->
<!DOCTYPE html>
<html lang='ko'>
<head>
    <meta charset="utf-8"/>
    <title>활용빈도 높으니 기억하셈</title>
    <style>
    </style>
    <script>
    </script>
</head>
<body>
    <div id="clock"></div>
    <button onclick="stop();">stop!</button>
    <script>
        // Date 객체 - 시간정보를 활용 할 수 있게 지원해주는 객체
        // Date 객체에 매개변수를 지정안하면 현재 시간을 저장함
        let date = new Date();
        let year = date.getFullYear(); // 현재 시간이라 2022년을 뜻함
        let month = date.getMonth()+1; // 0 ~ 11까지 되어있지만, 인덱스로 되어있어 1월이 0 / 12월이 11의 값을 가지고 있음 -> +1을 해주는거임
        let day = date.getDate();
        // 요일을 반환 0 ~ 6 
        let week = date.getDay();  // 0 == 일요일 , 6 == 토요일
        let weekArray = ['일요일','월요일','화요일','수요일','목요일','금요일','토요일'];

        let hour = date.getHours();     // 시간
        let minute = date.getMinutes(); // 분
        let second = date.getSeconds(); // 초

        let clock = document.getElementById("clock");
        clock.innerHTML = year+"-"+month+"-"+day+"("+weekArray[week]+") "+hour+":"+minute+":"+second;

        let timeOut; //setClock을 멈추기 위해서 변수 선언한거임
        function setClock(){
            let now = new Date();
            let hours = now.getHours();     // 시
            let minutes = now.getMinutes(); // 분
            let seconds = now.getSeconds(); // 초
            let str = hours+":"+minutes+":"+seconds;
            document.getElementById("clock").innerHTML =str;
            timeOut = setTimeout(setClock,1000);
        } // 재귀함수 : 자기가 자기를 호출을 해서 무한반복함
        setClock();
        
        // 함수안에 clear를 이용해서 해당 함수를 멈출 수 있다.
        function stop(){
            clearTimeout(timeOut);
        }
    </script>
</body>
</html>